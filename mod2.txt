(function() {
  'use strict';

// Verificar se o valor da chave "lanterna" no localStorage Ã© igual a "on"
const lanternStatus = localStorage.getItem('lanterna');

if (lanternStatus === 'on') {
    const isDesktop = /Mac|Windows|Linux/.test(navigator.userAgent);

    if (isDesktop) {
        const distortionLayer = document.createElement('div');
        distortionLayer.style.position = 'fixed';
        distortionLayer.style.top = '0';
        distortionLayer.style.left = '0';
        distortionLayer.style.width = '100%';
        distortionLayer.style.height = '100%';
        distortionLayer.style.pointerEvents = 'none';
        distortionLayer.style.background = 'linear-gradient(transparent, transparent)';
        distortionLayer.style.zIndex = '9999'; // Definindo um valor alto para ficar acima de outros elementos
        document.body.appendChild(distortionLayer);

        document.addEventListener('mousemove', (e) => {
            const mouseX = e.clientX;
            const mouseY = e.clientY;

            const distortionStrength = 20;
            const translateX = (mouseX - window.innerWidth / 2) / window.innerWidth * distortionStrength;
            const translateY = (mouseY - window.innerHeight / 2) / window.innerHeight * distortionStrength;

            distortionLayer.style.background = `radial-gradient(circle at ${mouseX}px ${mouseY}px, transparent 100px, rgba(0, 0, 0, 0.5) 150px)`;
            distortionLayer.style.transform = `translate(-${translateX}px, -${translateY}px)`;
        });
    }
}

})();
